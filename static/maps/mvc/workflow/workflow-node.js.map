{"version":3,"file":"workflow-node.js","sources":["../../../src/mvc/workflow/workflow-node.js"],"names":["define","NodeView","Node","Backbone","Model","extend","initialize","app","attr","this","element","input_terminals","output_terminals","errors","workflow_outputs","getWorkflowOutput","outputName","_","findWhere","output_name","isWorkflowOutput","undefined","removeWorkflowOutput","splice","addWorkflowOutput","label","output","push","labelWorkflowOutput","changed","oldLabel","workflowOutput","workflow","updateOutputLabel","markChanged","nodeView","redrawWorkflowOutputs","connectedOutputTerminals","_connectedTerminals","terminals","connectedTerminals","$","each","t","connectors","length","hasConnectedOutputTerminals","outputTerminals","connectedMappedInputTerminals","_connectedMappedTerminals","hasConnectedMappedInputTerminals","inputTerminals","inputName","inputTerminal","isMappedOver","mapped_outputs","mapOver","isCollection","mappedInputTerminals","_mappedTerminals","mappedTerminals","hasMappedOverInputTerminals","found","redraw","destroy","k","remove_node","remove","make_active","addClass","make_inactive","get","p","removeChild","appendChild","parentNode","removeClass","set_tool_version","type","config_form","tool_version","version","content_id","id","init_field_data","data","name","tool_state","tooltip","annotation","post_job_actions","uuid","node","el","data_inputs","i","input","addDataInput","data_outputs","addRule","addDataOutput","render","node_changed","update_field_data","unused_outputs","outputViews","output_view","cur_name","data_names","cur_name_in_data_outputs","data_name","unused_output","terminalElement","terminal","x","wf_output","datatypes","extensions","destroyInvalidConnections","pja_in","renderToolErrors","old_body","new_body","newInputsDiv","newTerminalViews","terminalView","difference","values","terminalViews","unusedView","updateDataOutput","replaceWith","error","text","b","find","tmp","html"],"mappings":"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"}