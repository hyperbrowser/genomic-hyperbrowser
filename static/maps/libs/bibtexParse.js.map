{"version":3,"file":"bibtexParse.js","sources":["../../src/libs/bibtexParse.js"],"names":["exports","BibtexParser","this","months","notKey","pos","input","entries","Array","currentEntry","setInput","t","getEntries","isWhitespace","s","match","canCommentOut","undefined","skipWhitespace","substring","length","tryMatch","matchAt","value_braces","bracecount","start","escaped","end","value_comment","str","brcktCnt","value_quotes","single_value","k","key","indexOf","toLowerCase","value","values","push","join","optional","key_equals_value","val","trim","key_value_list","kv","entry_body","d","directive","preamble","comment","entry","alernativeCitationKey","forEach","citationKey","entryTags","author","split","year","bibtex","toUpperCase","string","toJSON","b","toBibtex","json","out","i","entryType","tags","jdx"],"mappings":"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"}